FROM nginxinc/nginx-unprivileged:1.27-alpine

COPY public /usr/share/nginx/html

RUN rm -f /etc/nginx/conf.d/default.conf || true
RUN printf 'server { listen 8080; root /usr/share/nginx/html; index index.html; location / { try_files $uri /index.html; } }' > /etc/nginx/conf.d/site.conf

ENV PORT=8080
EXPOSE 8080


